{"is_source_file": true, "format": "Java", "description": "Defines a Spring REST controller 'FilesController' with endpoints for uploading and downloading files, interacting with 'FileService'.", "external_files": ["com.example.invoicebackend.model.FileAttachment", "com.example.invoicebackend.service.FileService", "com.example.invoicebackend.web.dto.FileDtos.FileUploadResponse", "io.swagger.v3.oas.annotations.Operation", "io.swagger.v3.oas.annotations.tags.Tag", "org.springframework.core.io.InputStreamResource", "org.springframework.http.HttpHeaders", "org.springframework.http.MediaType", "org.springframework.http.ResponseEntity", "org.springframework.security.access.prepost.PreAuthorize", "org.springframework.validation.annotation.Validated", "org.springframework.web.bind.annotation.*", "org.springframework.web.multipart.MultipartFile"], "external_methods": ["files.upload", "files.findAttachment", "files.openStream"], "published": ["FilesController"], "classes": [{"name": "FilesController", "description": "A REST controller handling file upload and download operations secured with role-based access controls."}], "methods": [{"name": "upload", "description": "Handles uploading files via POST request, links files to partners and optionally invoices."}, {"name": "download", "description": "Handles downloading files via GET request by attachment ID."}], "calls": ["files.upload", "files.findAttachment", "files.openStream"], "search-terms": ["FilesController", "file upload endpoint", "file download endpoint", "Spring REST controller", "MultipartFile", "ResponseEntity"], "state": 2, "file_id": 71, "knowledge_revision": 155, "git_revision": "", "hash": "ecec2cd8ed12bd0e7d686c3fb76c9896", "format-version": 4, "code-base-name": "invoice_backend", "filename": "invoice_backend/src/main/java/com/example/invoicebackend/web/FilesController.java", "revision_history": [{"155": ""}]}