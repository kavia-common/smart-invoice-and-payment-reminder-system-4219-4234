{"is_source_file": true, "format": "Java", "description": "This Java source file defines the AuthService class responsible for handling authentication, user registration, login, token refresh, and admin seeding in a Spring application. It manages user credentials, roles, and JWT token issuance.", "external_files": ["com/example/invoicebackend/model/Role.java", "com/example/invoicebackend/model/User.java", "com/example/invoicebackend/repository/RoleRepository.java", "com/example/invoicebackend/repository/UserRepository.java", "com/example/invoicebackend/security/jwt/JwtTokenProvider.java", "com/example/invoicebackend/web/dto/AuthDtos/LoginRequest.java", "com/example/invoicebackend/web/dto/AuthDtos/RegisterRequest.java"], "external_methods": ["users.existsByEmail", "roles.findByName", "roles.save", "users.save", "users.findByEmail", "jwt.parse", "jwt.generateToken"], "published": ["register", "login", "refresh"], "classes": [{"name": "AuthService", "description": "Service class for authentication logic, user registration, login, token refresh, and admin bootstrap in a Spring application."}], "methods": [{"name": "register", "description": "Registers a new user with role 'USER' and issues a JWT token."}, {"name": "login", "description": "Authenticates user credentials and issues a JWT token with user's roles."}, {"name": "refresh", "description": "Refreshes JWT token based on the current valid token, typically for session extension."}, {"name": "issueToken", "description": "Generates a JWT token for a given email and list of roles."}, {"name": "seedAdminIfMissing", "description": "Creates an admin user with 'ADMIN' role if not already configured or existing."}], "calls": ["users.existsByEmail", "roles.findByName", "roles.save", "users.save", "users.findByEmail", "jwt.parse", "jwt.generateToken"], "search-terms": ["AuthService", "JWT token issuance", "user registration", "admin seed", "authentication"], "state": 2, "file_id": 19, "knowledge_revision": 42, "git_revision": "", "hash": "4a595492689f2b62831f4316c9cc1d1a", "format-version": 4, "code-base-name": "invoice_backend", "filename": "invoice_backend/src/main/java/com/example/invoicebackend/service/AuthService.java", "revision_history": [{"42": ""}]}