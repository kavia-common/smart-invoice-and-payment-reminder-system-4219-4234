{"is_source_file": true, "format": "Java", "description": "This Java class defines a REST controller for handling incoming webhooks related to invoices and payments. It provides endpoints for processing 'invoice-created' and 'payment-updated' webhook requests, verifying signatures, and responding with acknowledgment messages.", "external_files": ["com.example.invoicebackend.model.Invoice", "com.example.invoicebackend.service.WebhookService", "com.example.invoicebackend.web.dto.WebhookDtos.InvoiceCreatedWebhookRequest", "com.example.invoicebackend.web.dto.WebhookDtos.PaymentUpdatedWebhookRequest", "com.example.invoicebackend.web.dto.WebhookDtos.WebhookAckResponse", "io.swagger.v3.oas.annotations.Operation", "io.swagger.v3.oas.annotations.Parameter", "io.swagger.v3.oas.annotations.media.Content", "io.swagger.v3.oas.annotations.media.Schema", "io.swagger.v3.oas.annotations.responses.ApiResponse", "io.swagger.v3.oas.annotations.tags.Tag", "jakarta.servlet.http.HttpServletRequest", "jakarta.validation.Valid", "org.springframework.http.MediaType", "org.springframework.http.ResponseEntity", "org.springframework.web.bind.annotation.*"], "external_methods": ["webhookService.verifyIncomingSignature", "webhookService.handleInvoiceCreated", "webhookService.handlePaymentUpdated", "System.getenv"], "published": ["invoiceCreated", "paymentUpdated", "err", "readBody"], "classes": [{"name": "WebhooksController", "description": "Controller class providing endpoints to handle incoming webhook requests for invoice creation and payment updates."}], "methods": [{"name": "invoiceCreated", "description": "Handles the incoming 'invoice-created' webhook, verifies signature, processes payload, and returns acknowledgment."}, {"name": "paymentUpdated", "description": "Handles the incoming 'payment-updated' webhook, verifies signature, processes payload, and returns acknowledgment."}, {"name": "err", "description": "Generates an error response object with a message and request ID."}, {"name": "readBody", "description": "Reads the raw body content from the HttpServletRequest."}], "calls": ["webhookService.verifyIncomingSignature", "webhookService.handleInvoiceCreated", "webhookService.handlePaymentUpdated"], "search-terms": ["WebhooksController", "invoice-created", "payment-updated", "Webhook signature verification", "invoice webhook endpoint", "payment webhook endpoint"], "state": 2, "file_id": 76, "knowledge_revision": 175, "git_revision": "", "hash": "7fbf802b5a36a41e6aa1cfedc5605805", "format-version": 4, "code-base-name": "invoice_backend", "filename": "invoice_backend/src/main/java/com/example/invoicebackend/web/WebhooksController.java", "revision_history": [{"175": ""}]}