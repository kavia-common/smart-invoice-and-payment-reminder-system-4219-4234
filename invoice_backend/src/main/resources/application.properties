spring.application.name=invoicebackend

# Default to 'dev' profile which uses H2 in-memory + Flyway
spring.profiles.active=dev

# Common JPA and Hibernate settings
spring.jpa.show-sql=true
spring.jpa.open-in-view=false
# For profile-specific ddl-auto, see application-*.properties; validate for dev to ensure Flyway controls schema
# spring.jpa.hibernate.ddl-auto is profile-specific

# Flyway common settings (enabled by default; will pick up profile-specific datasource)
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
# Allow creating schema automatically if not present (Postgres)
spring.flyway.create-schemas=true
# For Postgres schema selection, see application-prod.properties

# Actuator Configuration (keep available)
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.probes.enabled=true

# Swagger/OpenAPI Configuration
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operationsSorter=method
springdoc.swagger-ui.tagsSorter=alpha

# Respect X-Forwarded-* / Forwarded headers so redirects preserve external scheme/host/port
server.forward-headers-strategy=framework
